# 后端BSC主网环境变量配置示例
# 复制此文件为 .env 并填入真实值

# ===================================
# 1. 数据库配置
# ===================================
# PostgreSQL连接字符串
# 格式: postgresql://用户名:密码@主机:端口/数据库名
DATABASE_URL=postgresql://username:password@localhost:5432/hackerverse_mainnet

# ===================================
# 2. BSC主网区块链配置
# ===================================
# 智能合约地址（从contracts/deployments/bscMainnet.json获取）
CONTRACT_ADDRESS=0xYourContractAddressHere

# Chain ID（BSC主网固定为56）
CHAIN_ID=56

# BSC主网RPC URL
BSC_RPC_URL=https://bsc-dataseed1.bnbchain.org

# 或使用更快的RPC提供商:
# BSC_RPC_URL=https://rpc.ankr.com/bsc
# BSC_RPC_URL=https://bsc-mainnet.nodereal.io/v1/YOUR_API_KEY

# ===================================
# 3. JWT认证配置
# ===================================
# JWT密钥（生产环境必须使用强密钥！）
# 生成方法: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your_super_secure_jwt_secret_here_at_least_64_characters_long

# JWT过期时间（默认7天）
JWT_EXPIRES_IN=7d

# ===================================
# 4. IPFS配置
# ===================================
# Pinata API配置
IPFS_PROJECT_ID=your_pinata_project_id
IPFS_PROJECT_SECRET=your_pinata_project_secret
PINATA_API_KEY=your_pinata_api_key
PINATA_API_SECRET=your_pinata_api_secret
PINATA_JWT=your_pinata_jwt_token

# IPFS网关URL
IPFS_GATEWAY_URL=https://gateway.pinata.cloud

# ===================================
# 5. Redis缓存配置（可选）
# ===================================
# Redis连接URL
# REDIS_URL=redis://localhost:6379
# REDIS_URL=redis://:password@your-redis-host:6379

# ===================================
# 6. 邮件服务配置
# ===================================
# SMTP配置
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# 发件人信息
EMAIL_FROM=noreply@hackerverse.com
EMAIL_FROM_NAME=Hackerverse

# ===================================
# 7. 应用配置
# ===================================
# 应用环境
NODE_ENV=production

# 前端URL（用于生成链接）
FRONTEND_URL=https://your-frontend-domain.com

# 后端端口
PORT=3002

# ===================================
# 8. 安全配置
# ===================================
# 允许的CORS源
CORS_ORIGIN=https://your-frontend-domain.com

# API限流配置
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ===================================
# 9. 日志配置
# ===================================
# 日志级别: error, warn, info, debug
LOG_LEVEL=info

# ===================================
# 部署后配置检查清单
# ===================================
# ✅ DATABASE_URL是否指向生产数据库？
# ✅ CONTRACT_ADDRESS是否更新为BSC主网地址？
# ✅ CHAIN_ID是否设置为56？
# ✅ JWT_SECRET是否使用强密钥？
# ✅ IPFS配置是否正确？
# ✅ 邮件服务是否配置？
# ✅ CORS_ORIGIN是否设置正确？
# ✅ 是否已运行数据库迁移？

